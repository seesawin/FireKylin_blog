webpackJsonp([6,4],{1302:function(e,t,n){"use strict";e.exports={path:"theme",getComponent:function(e,t){n.e(5,function(e){t(n(1303))})}}},1381:function(e,t,n){"use strict";e.exports={path:"navigation",getComponent:function(e,t){t(null,n(1382))}}},1382:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var i=n(581),s=r(i),o=n(582),u=r(o),a=n(617),f=r(a),l=n(625),c=r(l),h=n(23),p=r(h),d=n(649),v=r(d),m=n(784),g=r(m),y=n(1234),b=r(y),w=n(1233),E=r(w),S=n(793);e.exports=function(e){function t(){var n,r,i;(0,s.default)(this,t);for(var o=arguments.length,a=Array(o),f=0;f<o;f++)a[f]=arguments[f];return n=r=(0,u.default)(this,e.call.apply(e,[this].concat(a))),r.state=r.initialState(),i=n,(0,u.default)(r,i)}return(0,f.default)(t,e),t.prototype.initialState=function(){var e=window.SysConfig.options;return e.navigation?"string"==typeof e.navigation&&(e.navigation=JSON.parse(e.navigation)):e.navigation=[],{list:e.navigation}},t.prototype.componentWillMount=function(){this.listenTo(b.default,this.handleTrigger.bind(this))},t.prototype.handleTrigger=function(e,t){switch(t){case"saveNavigationSuccess":g.default.success("更新成功")}},t.prototype.onValidSubmit=function(e){this.state.list.push(e),this.updateNav()},t.prototype.updateNav=function(){window.SysConfig.options.navigation=this.state.list,E.default.navigation(this.state.list),this.forceUpdate()},t.prototype.move=function(e,t){var n=this.state.list[e];this.state.list[e]=this.state.list[t],this.state.list[t]=n,this.updateNav()},t.prototype.render=function(){var e=this,t=this.state.list.map(function(t,n){return p.default.createElement("tr",{key:n,className:"fk-dragable-row"},p.default.createElement("td",{className:"fk-dragable-item"},p.default.createElement("span",{className:"glyphicon glyphicon-option-vertical"})),p.default.createElement("td",null,t.label),p.default.createElement("td",null,t.url),p.default.createElement("td",null,t.option),p.default.createElement("td",null,p.default.createElement("button",{type:"button",disabled:0===n,className:"btn btn-success btn-xs",onClick:function(){return e.move(n-1,n)}},p.default.createElement("span",{className:"glyphicon glyphicon-arrow-up"}),p.default.createElement("span",null,"上移")),p.default.createElement("span",null," "),p.default.createElement("button",{type:"button",disabled:n===e.state.list.length-1,className:"btn btn-success btn-xs",onClick:function(){return e.move(n,n+1)}},p.default.createElement("span",{className:"glyphicon glyphicon-arrow-down"}),p.default.createElement("span",null,"下移")),p.default.createElement("span",null," "),p.default.createElement("button",{type:"button",className:"btn btn-danger btn-xs",onClick:function(){e.state.list.splice(n,1),e.updateNav()}},p.default.createElement("span",{className:"glyphicon glyphicon-trash"}),p.default.createElement("span",null,"删除"))))});return t.push(p.default.createElement("tr",{key:"form"},p.default.createElement("td",null),p.default.createElement("td",null,p.default.createElement(S.ValidatedInput,{type:"text",name:"label",validate:"required"})),p.default.createElement("td",null,p.default.createElement(S.ValidatedInput,{type:"text",name:"url",validate:"required"})),p.default.createElement("td",null,p.default.createElement(S.ValidatedInput,{type:"text",name:"option"})),p.default.createElement("td",null,p.default.createElement("button",{type:"submit",className:"btn btn-primary btn-xs"},p.default.createElement("span",{className:"glyphicon glyphicon-edit"}),p.default.createElement("span",null,"新增"))))),p.default.createElement("div",{className:"fk-content-wrap"},p.default.createElement(v.default,this.props),p.default.createElement("div",{className:"manage-container"},p.default.createElement(S.Form,{onValidSubmit:this.onValidSubmit.bind(this)},p.default.createElement("table",{className:"table table-striped"},p.default.createElement("thead",null,p.default.createElement("tr",null,p.default.createElement("th",{style:{width:10}}),p.default.createElement("th",null,"菜单文本"),p.default.createElement("th",null,"菜单地址"),p.default.createElement("th",null,"菜单属性"),p.default.createElement("th",null,"操作"))),p.default.createElement("tbody",{children:t})))))},t}(c.default)}})